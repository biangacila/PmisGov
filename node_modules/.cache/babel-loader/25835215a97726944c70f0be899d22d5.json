{"ast":null,"code":"import _regeneratorRuntime from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/biangacila/reactprojects/PmisGov/src/component/employee/database.js\";\nimport React from 'react';\nimport { PostMainPMIS } from \"../../api/auth\";\n\nvar DatabaseComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DatabaseComponent, _React$Component);\n\n  function DatabaseComponent(props) {\n    var _this2;\n\n    _classCallCheck(this, DatabaseComponent);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(DatabaseComponent).call(this, props));\n\n    _this2.actionViewEmployee = function (row) {\n      var tmp = _this2.state;\n      tmp.currentEmployee = row;\n\n      _this2.setState(tmp);\n\n      _this2.openModal();\n    };\n\n    _this2.fetchEmployees =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this, company, endpoint, hub;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = _assertThisInitialized(_assertThisInitialized(_this2));\n              company = _this2.props.state.company;\n              endpoint = \"/employee/list/\" + company;\n              hub = {};\n              hub.company = company;\n              _context.next = 7;\n              return PostMainPMIS(hub, endpoint, function (data) {\n                var emp = [];\n\n                for (var i in data) {\n                  var row = data;\n                  row.Id = parseInt(row.Id);\n                  emp.push(row);\n                }\n\n                _this.setState({\n                  Employees: emp\n                });\n\n                console.log(\":> fetchEmployees > \", emp);\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this2.renderData = function () {\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"alert alert-primary companyList\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Available Employees List (\", React.createElement(\"span\", {\n        className: \"badge\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \" \", _this2.state.Employees.length), \")\"), React.createElement(\"table\", {\n        className: \"table\",\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Code\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Fullname\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"IDNo\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Site\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Gender\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Designation\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Created\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, _this2.state.Employees.map(function (row) {\n        return React.createElement(\"tr\", {\n          key: row.Id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, row.EmployeeCode), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, row.Name, \" \", row.Surname), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, row.EmployeeIDNo), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, row.Site), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, row.Gender), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, row.Designation), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, row.OrgDateTime), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"clickMe btn btn-primary\",\n          onClick: function onClick() {\n            _this2.actionViewEmployee(row);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"View\"), \"\\xA0\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"clickMe btn btn-danger\",\n          onClick: function onClick() {\n            alert(\"Feature not implemented\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Delete\")));\n      }))));\n    };\n\n    _this2.state = {\n      Employees: [],\n      currentEmployee: null\n    };\n    _this2.fetchEmployees = _this2.fetchEmployees.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(DatabaseComponent, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.fetchEmployees();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-dander\",\n        onClick: function onClick() {\n          return _this3.props.clearNewFilter();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"CLear [New Filter]\")))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.renderData))));\n    }\n  }]);\n\n  return DatabaseComponent;\n}(React.Component);\n\nexport { DatabaseComponent as default };","map":{"version":3,"sources":["/home/biangacila/reactprojects/PmisGov/src/component/employee/database.js"],"names":["React","PostMainPMIS","DatabaseComponent","props","actionViewEmployee","row","tmp","state","currentEmployee","setState","openModal","fetchEmployees","_this","company","endpoint","hub","data","emp","i","Id","parseInt","push","Employees","console","log","renderData","length","width","map","EmployeeCode","Name","Surname","EmployeeIDNo","Site","Gender","Designation","OrgDateTime","alert","bind","clearNewFilter","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {PostMainPMIS} from \"../../api/auth\";\n\nexport default class DatabaseComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            Employees: [],\n            currentEmployee:null,\n        }\n\n        this.fetchEmployees = this.fetchEmployees.bind(this);\n    }\n\n   async componentDidMount(){\n        this.fetchEmployees()\n    }\n\n    actionViewEmployee=(row)=> {\n        let tmp = this.state;\n        tmp.currentEmployee = row;\n        this.setState(tmp);\n        this.openModal()\n    }\n\n    fetchEmployees=async ()=>{\n        let _this = this;\n        let company = this.props.state.company;\n        let endpoint = \"/employee/list/\" + company;\n        let hub = {};\n        hub.company = company;\n\n        await PostMainPMIS(hub, endpoint, function (data) {\n            let emp = [];\n\n            for (let i in data) {\n                let row = data;\n                row.Id = parseInt(row.Id);\n                emp.push(row);\n            }\n\n            _this.setState({Employees: emp});\n\n            console.log(\":> fetchEmployees > \", emp);\n        })\n\n\n    }\n\n    renderData=()=>{\n\n        return (\n            <div className={\"row\"}>\n                <label className=\"alert alert-primary companyList\">\n                    Available Employees List (<span className=\"badge\"> {this.state.Employees.length}</span>)\n                </label>\n\n                <table className={\"table\"} style={{width: \"100%\"}}>\n                    <thead>\n                    <tr>\n                        <th>Code</th>\n                        <th>Fullname</th>\n                        <th>IDNo</th>\n                        <th>Site</th>\n                        <th>Gender</th>\n                        <th>Designation</th>\n                        <th>Created</th>\n                        <th></th>\n                        <th></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n\n                    {this.state.Employees.map((row) => {\n                        return (\n                            <tr key={row.Id}>\n                                <td>{row.EmployeeCode}</td>\n                                <td>{row.Name} {row.Surname}</td>\n                                <td>{row.EmployeeIDNo}</td>\n                                <td>{row.Site}</td>\n                                <td>{row.Gender}</td>\n                                <td>{row.Designation}</td>\n                                <td>{row.OrgDateTime}</td>\n                                <td>\n                                    <button className={\"clickMe btn btn-primary\"} onClick={() => {\n                                        this.actionViewEmployee(row)\n                                    }}>View\n                                    </button>\n                                    &nbsp;\n                                </td>\n                                <td>\n                                    <button className={\"clickMe btn btn-danger\"} onClick={() => {\n                                        alert(\"Feature not implemented\")\n                                    }}>Delete\n                                    </button>\n                                </td>\n                            </tr>\n                        )\n                    })}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n\n\n\n    render() {\n        return (\n            <div className={\"\"}>\n                <div>\n                    <hr/>\n                    <div className={\"row\"}>\n                        <div className={\"col col-lg-12\"}>\n                            <p className={\"\"}>\n                                <button\n                                    className={\"btn btn-dander\"}\n                                    onClick={() => this.props.clearNewFilter()}>\n                                    CLear [New Filter]\n                                </button>\n                            </p>\n                        </div>\n                    </div>\n\n                    <div className={\"row\"}>\n                        <div className={\"col col-lg-12\"}>\n                            {this.renderData}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}