{"ast":null,"code":"import _regeneratorRuntime from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport eConfig from '../config.json';\nimport { PostRequestHTTP } from './services';\nvar serverMainPMIS = eConfig.serverPmisMain;\nvar serverGovPMIS = eConfig.serverBackend;\nvar serverRecordPMIS = eConfig.serverPmisRecords;\n\nvar PostRecordPMIS =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(hub, endpoint, callback) {\n    var url;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = serverRecordPMIS + endpoint;\n            console.log(\"POST-Transport response Url > \", url, hub);\n            fetch(url, {\n              method: \"POST\",\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(hub)\n            }).then(function (response) {\n              return response.json();\n            }).then(function (response) {\n              var status = response.status;\n              console.log(\"POST-Transport response Data > \", response);\n              callback(response, null, status);\n            }).catch(function (e) {\n              console.log(\"POST-Transport response Error > \", e);\n              callback(null, e, null);\n            });\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function PostRecordPMIS(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar PostGovPMIS =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(hub, endpoint, callback) {\n    var url;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = serverGovPMIS + endpoint;\n            console.log(\"POST-Transport response Url > \", url, hub);\n            fetch(url, {\n              method: \"POST\",\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(hub)\n            }).then(function (response) {\n              return response.json();\n            }).then(function (response) {\n              var status = response.status;\n              console.log(\"POST-Transport response Data > \", response);\n              callback(response, null, status);\n            }).catch(function (e) {\n              console.log(\"POST-Transport response Error > \", e);\n              callback(null, e, null);\n            });\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function PostGovPMIS(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar PostMainPMIS =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(hub, endpoint, callback) {\n    var url;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            url = serverMainPMIS + endpoint;\n            console.log(\"POST-Transport response Url > \", url, hub);\n            fetch(url, {\n              method: \"POST\",\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(hub)\n            }).then(function (response) {\n              return response.json();\n            }).then(function (response) {\n              var status = response.status;\n              console.log(\"POST-Transport response Data > \", response);\n              callback(response, null, status);\n            }).catch(function (e) {\n              console.log(\"POST-Transport response Error > \", e);\n              callback(null, e, null);\n            });\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function PostMainPMIS(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar _redirectComponent = function _redirectComponent(_this, name, msg) {\n  var tmp = _this.state;\n  tmp.currContainer = name;\n\n  _this.setState(tmp);\n\n  if (msg !== \"\") {\n    alert(msg);\n  }\n};\n\nvar _retrieveData =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(key) {\n    var value;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return localStorage.getItem('@PIMS:' + key);\n\n          case 3:\n            value = _context4.sent;\n\n            if (!(value !== null)) {\n              _context4.next = 6;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", value);\n\n          case 6:\n            _context4.next = 11;\n            break;\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](0);\n            return _context4.abrupt(\"return\", \"\");\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[0, 8]]);\n  }));\n\n  return function _retrieveData(_x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar _storeData =\n/*#__PURE__*/\nfunction () {\n  var _ref5 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee5(key, val) {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return localStorage.setItem('@PIMS:' + key, val);\n\n          case 3:\n            _context5.next = 8;\n            break;\n\n          case 5:\n            _context5.prev = 5;\n            _context5.t0 = _context5[\"catch\"](0);\n            // Error saving data\n            console.log(\"_storeData > \", key, val);\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[0, 5]]);\n  }));\n\n  return function _storeData(_x11, _x12) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar _removeData =\n/*#__PURE__*/\nfunction () {\n  var _ref6 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee6(key) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return localStorage.removeItem('@PIMS:' + key);\n\n          case 3:\n            _context6.next = 8;\n            break;\n\n          case 5:\n            _context6.prev = 5;\n            _context6.t0 = _context6[\"catch\"](0);\n            // Error saving data\n            console.log(\"_removeData error > \", key);\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this, [[0, 5]]);\n  }));\n\n  return function _removeData(_x13) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexport { PostMainPMIS, PostGovPMIS, PostRecordPMIS, _redirectComponent, _retrieveData, _storeData, _removeData };","map":{"version":3,"sources":["/home/biangacila/reactprojects/PmisGov/src/api/auth.js"],"names":["eConfig","PostRequestHTTP","serverMainPMIS","serverPmisMain","serverGovPMIS","serverBackend","serverRecordPMIS","serverPmisRecords","PostRecordPMIS","hub","endpoint","callback","url","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","status","catch","e","PostGovPMIS","PostMainPMIS","_redirectComponent","_this","name","msg","tmp","state","currContainer","setState","alert","_retrieveData","key","localStorage","getItem","value","_storeData","val","setItem","_removeData","removeItem"],"mappings":"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","sourcesContent":["\nimport eConfig from '../config.json';\nimport {PostRequestHTTP} from './services';\n\nconst serverMainPMIS= eConfig.serverPmisMain;\nconst serverGovPMIS= eConfig.serverBackend;\nconst serverRecordPMIS= eConfig.serverPmisRecords;\n\nlet PostRecordPMIS = async (hub, endpoint, callback) => {\n    let url = serverRecordPMIS + endpoint;\n\n    console.log(\"POST-Transport response Url > \",url,hub);\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(hub)\n    })\n        .then((response) => response.json())\n        .then((response) => {\n            const status = response.status;\n            console.log(\"POST-Transport response Data > \",response);\n            callback(response, null, status);\n        }).catch((e) => {\n        console.log(\"POST-Transport response Error > \",e);\n        callback(null, e, null);\n    });\n}\n\n\n\nlet PostGovPMIS = async (hub, endpoint, callback) => {\n    let url = serverGovPMIS + endpoint;\n\n    console.log(\"POST-Transport response Url > \",url,hub);\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(hub)\n    })\n        .then((response) => response.json())\n        .then((response) => {\n            const status = response.status;\n            console.log(\"POST-Transport response Data > \",response);\n            callback(response, null, status);\n        }).catch((e) => {\n        console.log(\"POST-Transport response Error > \",e);\n        callback(null, e, null);\n    });\n}\n\nlet PostMainPMIS = async (hub, endpoint, callback) => {\n    let url = serverMainPMIS + endpoint;\n\n    console.log(\"POST-Transport response Url > \",url,hub);\n     fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(hub)\n    })\n        .then((response) => response.json())\n        .then((response) => {\n            const status = response.status;\n            console.log(\"POST-Transport response Data > \",response);\n            callback(response, null, status);\n        }).catch((e) => {\n         console.log(\"POST-Transport response Error > \",e);\n        callback(null, e, null);\n    });\n}\n\n\nlet _redirectComponent = (_this, name, msg) => {\n    let tmp = _this.state;\n    tmp.currContainer = name;\n    _this.setState(tmp);\n    if (msg !== \"\") {\n        alert(msg)\n    }\n}\n\n\nlet _retrieveData = async (key) => {\n    try {\n        const value = await localStorage.getItem('@PIMS:' + key);\n        if (value !== null) {\n            return value;\n        }\n    } catch (error) {\n        // Error retrieving data\n        return \"\"\n    }\n}\n\nlet _storeData = async (key, val) => {\n    try {\n        await localStorage.setItem('@PIMS:' + key, val);\n    } catch (error) {\n        // Error saving data\n        console.log(\"_storeData > \", key, val);\n    }\n}\n\nlet _removeData = async (key) => {\n    try {\n        await localStorage.removeItem('@PIMS:' + key);\n    } catch (error) {\n        // Error saving data\n        console.log(\"_removeData error > \", key);\n    }\n}\n\n\nexport { PostMainPMIS,PostGovPMIS,PostRecordPMIS, _redirectComponent, _retrieveData, _storeData, _removeData};\n"]},"metadata":{},"sourceType":"module"}