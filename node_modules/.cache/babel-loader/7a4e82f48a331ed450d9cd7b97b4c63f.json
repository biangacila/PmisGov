{"ast":null,"code":"import _regeneratorRuntime from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/biangacila/reactprojects/PmisGov/src/component/employee/filtering.js\";\nimport React from 'react';\nimport { PostMainPMIS, PostGovPMIS, PostRecordPMIS } from '../../api/auth';\n\nvar FilteringContract =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FilteringContract, _React$Component);\n\n  function FilteringContract(props) {\n    var _this2;\n\n    _classCallCheck(this, FilteringContract);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(FilteringContract).call(this, props));\n    _this2.fetchContract =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this, hub, endpoint;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = _assertThisInitialized(_assertThisInitialized(_this2));\n              hub = {};\n              endpoint = \"/api/contract/list\"; // \"/api/contracts/information/list\n\n              _context.next = 5;\n              return PostMainPMIS(hub, endpoint, function (data) {\n                var lsProvince = {};\n\n                for (var i in data) {\n                  var row = data[i];\n                  lsProvince[row.Province] = true;\n                }\n\n                var ls = [];\n\n                for (var _i in lsProvince) {\n                  ls.push(_i);\n                }\n\n                _this.setState({\n                  ListContract: data,\n                  ComboProvince: ls\n                });\n\n                console.log(\":> ListContract > \", ls, data);\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this2.fetchOrganization =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var _this, hub, endpoint;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this = _assertThisInitialized(_assertThisInitialized(_this2));\n              hub = {};\n              endpoint = \"/api/organisation/list\";\n              _context2.next = 5;\n              return PostMainPMIS(hub, endpoint, function (data) {\n                console.log(\":> ListOrganization > \", data);\n\n                _this.setState({\n                  ListOrganization: data\n                });\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    _this2.renderProvince = function () {\n      if (_this2.state.ComboProvince.length === 0) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Waiting for province list ...\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, _this2.props.row.desc), React.createElement(\"select\", {\n        type: _this2.props.row.type,\n        className: \"form-control\",\n        id: _this2.props.row.field,\n        \"aria-describedby\": _this2.props.row.field + \"Help\",\n        placeholder: _this2.props.row.placeholder,\n        required: _this2.props.row.required,\n        onChange: function onChange(e) {\n          return _this2.props.handleInput(e, _this2.props.row.field);\n        },\n        value: _this2.getValue(_this2.props.row.field),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"--Select Province --\"), _this2.state.ComboProvince.map(function (item, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, item);\n      })));\n    };\n\n    _this2.state = {\n      province: \"\",\n      municipality: \"\",\n      company: \"\",\n      contract: \"\",\n      ListContract: [],\n      ListOrganization: [],\n      ComboProvince: []\n    };\n    return _this2;\n  }\n\n  _createClass(FilteringContract, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.fetchContract();\n\n              case 2:\n                _context3.next = 4;\n                return this.fetchOrganization();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"filtering request\");\n    }\n  }]);\n\n  return FilteringContract;\n}(React.Component);\n\nexport { FilteringContract as default };","map":{"version":3,"sources":["/home/biangacila/reactprojects/PmisGov/src/component/employee/filtering.js"],"names":["React","PostMainPMIS","PostGovPMIS","PostRecordPMIS","FilteringContract","props","fetchContract","_this","hub","endpoint","data","lsProvince","i","row","Province","ls","push","setState","ListContract","ComboProvince","console","log","fetchOrganization","ListOrganization","renderProvince","state","length","desc","type","field","placeholder","required","e","handleInput","getValue","map","item","index","province","municipality","company","contract","Component"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,YAAR,EAAsBC,WAAtB,EAAmCC,cAAnC,QAAwD,gBAAxD;;IAEqBC,iB;;;;;AAEjB,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,4FAAMA,KAAN;AADe,WAmBnBC,aAnBmB;AAAA;AAAA;AAAA;AAAA,6BAmBH;AAAA;;AAAA;AAAA;AAAA;AAAA;AACRC,cAAAA,KADQ;AAGRC,cAAAA,GAHQ,GAGF,EAHE;AAINC,cAAAA,QAJM,GAIK,oBAJL,EAI2B;;AAJ3B;AAAA,qBAKNR,YAAY,CAACO,GAAD,EAAMC,QAAN,EAAgB,UAAUC,IAAV,EAAgB;AAE9C,oBAAIC,UAAU,GAAG,EAAjB;;AACA,qBAAK,IAAIC,CAAT,IAAcF,IAAd,EAAoB;AAChB,sBAAMG,GAAG,GAAGH,IAAI,CAACE,CAAD,CAAhB;AACAD,kBAAAA,UAAU,CAACE,GAAG,CAACC,QAAL,CAAV,GAA2B,IAA3B;AACH;;AACD,oBAAIC,EAAE,GAAG,EAAT;;AACA,qBAAK,IAAIH,EAAT,IAAcD,UAAd,EAA0B;AACtBI,kBAAAA,EAAE,CAACC,IAAH,CAAQJ,EAAR;AACH;;AACDL,gBAAAA,KAAK,CAACU,QAAN,CAAe;AAACC,kBAAAA,YAAY,EAAER,IAAf;AAAqBS,kBAAAA,aAAa,EAAEJ;AAApC,iBAAf;;AAEAK,gBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCN,EAAlC,EAAsCL,IAAtC;AACH,eAdiB,CALN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnBG;AAAA,WAyCnBY,iBAzCmB;AAAA;AAAA;AAAA;AAAA,6BAyCC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACZf,cAAAA,KADY;AAGZC,cAAAA,GAHY,GAGN,EAHM;AAIVC,cAAAA,QAJU,GAIC,wBAJD;AAAA;AAAA,qBAKVR,YAAY,CAACO,GAAD,EAAMC,QAAN,EAAgB,UAAUC,IAAV,EAAgB;AAC9CU,gBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCX,IAAtC;;AACAH,gBAAAA,KAAK,CAACU,QAAN,CAAe;AAACM,kBAAAA,gBAAgB,EAAEb;AAAnB,iBAAf;AACH,eAHiB,CALF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAzCD;;AAAA,WAsDnBc,cAtDmB,GAsDF,YAAM;AAEnB,UAAG,OAAKC,KAAL,CAAWN,aAAX,CAAyBO,MAAzB,KAAoC,CAAvC,EAAyC;AACrC,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CADJ;AAGH;;AAED,aACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,OAAKrB,KAAL,CAAWQ,GAAX,CAAec,IAAvB,CADJ,EAEI;AACI,QAAA,IAAI,EAAE,OAAKtB,KAAL,CAAWQ,GAAX,CAAee,IADzB;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,EAAE,EAAE,OAAKvB,KAAL,CAAWQ,GAAX,CAAegB,KAHvB;AAII,4BAAkB,OAAKxB,KAAL,CAAWQ,GAAX,CAAegB,KAAf,GAAuB,MAJ7C;AAKI,QAAA,WAAW,EAAE,OAAKxB,KAAL,CAAWQ,GAAX,CAAeiB,WALhC;AAMI,QAAA,QAAQ,EAAE,OAAKzB,KAAL,CAAWQ,GAAX,CAAekB,QAN7B;AAOI,QAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,iBAAO,OAAK3B,KAAL,CAAW4B,WAAX,CAAuBD,CAAvB,EAA0B,OAAK3B,KAAL,CAAWQ,GAAX,CAAegB,KAAzC,CAAP;AAAA,SAPd;AAQI,QAAA,KAAK,EAAE,OAAKK,QAAL,CAAc,OAAK7B,KAAL,CAAWQ,GAAX,CAAegB,KAA7B,CARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAVJ,EAWK,OAAKJ,KAAL,CAAWN,aAAX,CAAyBgB,GAAzB,CAA6B,UAACC,IAAD,EAAMC,KAAN,EAAc;AACxC,eACI;AAAQ,UAAA,GAAG,EAAEA,KAAb;AAAoB,UAAA,KAAK,EAAED,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAkCA,IAAlC,CADJ;AAGH,OAJA,CAXL,CAFJ,CADJ;AAuBH,KArFkB;;AAGf,WAAKX,KAAL,GAAa;AACTa,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,YAAY,EAAE,EAFL;AAGTC,MAAAA,OAAO,EAAE,EAHA;AAITC,MAAAA,QAAQ,EAAE,EAJD;AAKTvB,MAAAA,YAAY,EAAE,EALL;AAMTK,MAAAA,gBAAgB,EAAE,EANT;AAOTJ,MAAAA,aAAa,EAAE;AAPN,KAAb;AAHe;AAYlB;;;;;;;;;;;;;uBAGS,KAAKb,aAAL,E;;;;uBACA,KAAKgB,iBAAL,E;;;;;;;;;;;;;;;;6BAuED;AACL,aACI;AAAK,QAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ;AAKH;;;;EA/F0CtB,KAAK,CAAC0C,S;;SAAhCtC,iB","sourcesContent":["import React from 'react';\nimport {PostMainPMIS, PostGovPMIS, PostRecordPMIS} from '../../api/auth';\n\nexport default class FilteringContract extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            province: \"\",\n            municipality: \"\",\n            company: \"\",\n            contract: \"\",\n            ListContract: [],\n            ListOrganization: [],\n            ComboProvince: [],\n        }\n    }\n\n    async componentDidMount() {\n        await this.fetchContract();\n        await this.fetchOrganization();\n    }\n\n    fetchContract = async () => {\n        let _this = this;\n\n        let hub = {}\n        const endpoint = \"/api/contract/list\"; // \"/api/contracts/information/list\n        await PostMainPMIS(hub, endpoint, function (data) {\n\n            let lsProvince = {};\n            for (let i in data) {\n                const row = data[i];\n                lsProvince[row.Province] = true;\n            }\n            let ls = [];\n            for (let i in lsProvince) {\n                ls.push(i)\n            }\n            _this.setState({ListContract: data, ComboProvince: ls});\n\n            console.log(\":> ListContract > \", ls, data);\n        })\n\n    }\n    fetchOrganization = async () => {\n        let _this = this;\n\n        let hub = {}\n        const endpoint = \"/api/organisation/list\";\n        await PostMainPMIS(hub, endpoint, function (data) {\n            console.log(\":> ListOrganization > \", data);\n            _this.setState({ListOrganization: data})\n        })\n\n    }\n\n\n    renderProvince = () => {\n\n        if(this.state.ComboProvince.length === 0){\n            return(\n                <p>Waiting for province list ...</p>\n            )\n        }\n\n        return(\n            <div className=\"form-group\">\n                <label>{this.props.row.desc}</label>\n                <select\n                    type={this.props.row.type}\n                    className=\"form-control\"\n                    id={this.props.row.field}\n                    aria-describedby={this.props.row.field + \"Help\"}\n                    placeholder={this.props.row.placeholder}\n                    required={this.props.row.required}\n                    onChange={(e) => this.props.handleInput(e, this.props.row.field)}\n                    value={this.getValue(this.props.row.field)}\n                >\n                    <option>--Select Province --</option>\n                    {this.state.ComboProvince.map((item,index)=>{\n                        return(\n                            <option key={index} value={item}>{item}</option>\n                        )\n                    })}\n                </select>\n\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"\">\n                filtering request\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}