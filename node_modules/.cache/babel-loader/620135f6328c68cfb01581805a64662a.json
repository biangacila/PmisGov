{"ast":null,"code":"import _regeneratorRuntime from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/biangacila/reactprojects/PmisGov/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/biangacila/reactprojects/PmisGov/src/component/employee/database.js\";\nimport React from 'react';\nimport { PostMainPMIS } from \"../../api/auth\";\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport MySearchField from './search-field';\nimport Paper from 'material-ui/Paper';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { Button, Modal } from 'react-bootstrap';\nvar style = {\n  margin: 12\n};\n\nfunction numericSortFunc(a, b, order) {\n  if (order === 'desc') {\n    return Number(b.Id) - Number(a.Id);\n  } else {\n    return Number(a.Id) - Number(b.Id);\n  }\n}\n\nvar DatabaseComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DatabaseComponent, _React$Component);\n\n  function DatabaseComponent(_props) {\n    var _this2;\n\n    _classCallCheck(this, DatabaseComponent);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(DatabaseComponent).call(this, _props));\n\n    _this2.actionViewEmployee = function (row) {\n      var tmp = _this2.state;\n      tmp.currentEmployee = row;\n\n      _this2.setState(tmp);\n\n      _this2.openModal();\n    };\n\n    _this2.openModal = function () {\n      var tmp = _this2.state;\n      tmp.openclose = true;\n\n      _this2.setState(tmp);\n    };\n\n    _this2.fetchEmployees =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _this, company, endpoint, hub;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = _assertThisInitialized(_assertThisInitialized(_this2));\n              company = _this2.props.state.company;\n              endpoint = \"/employee/list/\" + company;\n              hub = {};\n              hub.company = company;\n              _context.next = 7;\n              return PostMainPMIS(hub, endpoint, function (data) {\n                var emp = [];\n\n                for (var i in data) {\n                  var row = data;\n                  row.Id = parseInt(row.Id);\n                  emp.push(row);\n                }\n\n                _this.setState({\n                  Employees: emp\n                });\n\n                console.log(\":> fetchEmployees > \", emp);\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this2.renderData = function () {\n      var ls = [];\n\n      for (var i in _this2.state.Employees) {\n        var row = _this2.state.Employees[i];\n\n        if (row.Status === _this2.state.empStatus) {\n          ls.push(row);\n        }\n      }\n\n      var data = ls;\n      var selectRowProp = {\n        mode: 'radio',\n        clickToSelect: false // enable click to select\n\n      };\n\n      var _this = _assertThisInitialized(_assertThisInitialized(_this2));\n\n      var options = {\n        defaultSortName: 'Id',\n        defaultSortOrder: 'asc',\n        paginationSize: 20,\n        actionViewEmployee: _this2.actionViewEmployee,\n        addEmployee: _this2.addEmployeeSave,\n\n        /*onRowClick: function (row, columnIndex, rowIndex, e) {\n            console.log(`You click row id: ${row.EmployeeCode}, column index: ${columnIndex}, row index: ${rowIndex}`);\n            this.actionViewEmployee(row);\n            console.log(e);\n        },*/\n        onRowDoubleClick: function onRowDoubleClick(row, e) {\n          this.actionViewEmployee(row);\n          console.log(e);\n        },\n        clearSearch: true,\n        searchField: function searchField(props) {\n          return React.createElement(MySearchField, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }));\n        },\n        onAddRow: _this2.addEmployeeSave,\n        insertModal: _this2.createCustomModal,\n        searchDelayTime: 1500,\n        afterSearch: function afterSearch(e, ee) {\n          _this2.handleSearchChange(e, ee);\n        },\n        that: _this\n      };\n      var myStyle = {\n        overflow: 'visible',\n        width: '100%'\n      };\n      myStyle.color = \"red\";\n      var styleEmpStatus = {};\n      var myClassGray = \"\";\n\n      if (_this2.state.empStatus !== \"trial\") {\n        styleEmpStatus.color = \"#505050\";\n        myClassGray = \"myClassGray\";\n      }\n\n      var Statuses = {\n        trial: \"Active Employee\",\n        termination: \"Termination Employee\"\n      };\n      return React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-lg-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: style,\n        zDepth: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"centerContent \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Database Query\"), React.createElement(\"select\", {\n        className: \"select\",\n        name: \"empStatus\",\n        onChange: _this2._handleInput,\n        defaultValue: _this2.state.statusView,\n        style: {\n          width: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"trial\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Active Employee\"), React.createElement(\"option\", {\n        value: \"termination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Termination Employee\")), React.createElement(\"span\", {\n        className: \"pull-right totDatabaseQuery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \" \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, data.length)))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Key search: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, _this2.state.searchText), \" \\xA0\\xA0 Count: \", React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, _this2.state.count))), React.createElement(BootstrapTable, {\n        id: \"tbEmployee\",\n        style: myStyle,\n        data: data,\n        striped: false,\n        hover: true,\n        pagination: true,\n        options: options,\n        insertRow: true,\n        deleteRow: true,\n        exportCSV: true,\n        search: true,\n        hidden: _this2.state.hideColumnVariable,\n        className: myClassGray,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        width: \"380px\",\n        dataFormat: _this2.CommandButtons,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"#\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Id\",\n        isKey: true,\n        dataSort: true,\n        width: \"300px\",\n        style: styleEmpStatus,\n        sortFunc: numericSortFunc,\n        hidden: true,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"ID\"), React.createElement(TableHeaderColumn, {\n        dataField: \"EmployeeCode\",\n        width: \"70px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"Code\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Name\",\n        width: \"300px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"Name\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Surname\",\n        width: \"300px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"Surname\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Designation\",\n        width: \"300px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Designation\"), React.createElement(TableHeaderColumn, {\n        dataField: \"DailyRate\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        hidden: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Daily Rate\"), React.createElement(TableHeaderColumn, {\n        dataField: \"EmployeeIDNo\",\n        width: \"150px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, \"Employee ID No\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Site\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, \"Site\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"Address\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Address\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Gender\",\n        width: \"10px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Gender\"), React.createElement(TableHeaderColumn, {\n        dataField: \"Bank\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        hidden: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Bank\"), React.createElement(TableHeaderColumn, {\n        dataField: \"AccountNumber\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        hidden: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Account Number\"), React.createElement(TableHeaderColumn, {\n        dataField: \"BranchCode\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        hidden: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Branch Code\"), React.createElement(TableHeaderColumn, {\n        dataField: \"PaymentMethod\",\n        width: \"200px\",\n        style: styleEmpStatus,\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        hidden: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Payment Method\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"CommencementDate\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"CommencementDate\"), React.createElement(TableHeaderColumn, {\n        dataField: \"CellphoneNumber\",\n        width: \"100px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Cellphone Number\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"Email\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"Email\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"Contract\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, \"Contract\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"TerminationDate\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Termination Date\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"TerminationCode\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Termination Code\"), React.createElement(TableHeaderColumn, {\n        hidden: false,\n        dataField: \"ReasonForTermination\",\n        width: \"200px\",\n        filter: {\n          type: 'TextFilter',\n          delay: 1000\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"Reason For Termination\")), _this2.renderPopupForm(), _this2.renderEditForm(), React.createElement(MyComponentModal, {\n        obectname: \"Employee Detail [\" + _this2.state.currentEmployee.Name + \"]\",\n        openclose: _this2.state.openclose,\n        close: _this2.closeModal,\n        open: _this2.openModal,\n        data: _this2.state.currentEmployee,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })))))));\n    };\n\n    _this2.state = {\n      Employees: [],\n      currentEmployee: null,\n      openclose: false\n    };\n    _this2.fetchEmployees = _this2.fetchEmployees.bind(_assertThisInitialized(_assertThisInitialized(_this2)));\n    return _this2;\n  }\n\n  _createClass(DatabaseComponent, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.fetchEmployees();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"CommandButtons\",\n    value: function CommandButtons(cell, row) {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-default\",\n        onClick: function onClick() {\n          _this3.popupViewForm(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"View\"), \"\\xA0 \\xA0\", React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-default\",\n        onClick: function onClick() {\n          _this3.goToProfile(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Profile\"), \"\\xA0\", React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-default\",\n        onClick: function onClick() {\n          _this3.goToDocs(row);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Docs\")); //alert(\"Choose to Terminate employee: \"+row.EmployeeCode);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-dander\",\n        onClick: function onClick() {\n          return _this4.props.clearNewFilter();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"CLear [New Filter]\")))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, this.renderData))));\n    }\n  }]);\n\n  return DatabaseComponent;\n}(React.Component);\n\nexport { DatabaseComponent as default };","map":{"version":3,"sources":["/home/biangacila/reactprojects/PmisGov/src/component/employee/database.js"],"names":["React","PostMainPMIS","MuiThemeProvider","MySearchField","Paper","BootstrapTable","TableHeaderColumn","Button","Modal","style","margin","numericSortFunc","a","b","order","Number","Id","DatabaseComponent","props","actionViewEmployee","row","tmp","state","currentEmployee","setState","openModal","openclose","fetchEmployees","_this","company","endpoint","hub","data","emp","i","parseInt","push","Employees","console","log","renderData","ls","Status","empStatus","selectRowProp","mode","clickToSelect","options","defaultSortName","defaultSortOrder","paginationSize","addEmployee","addEmployeeSave","onRowDoubleClick","e","clearSearch","searchField","onAddRow","insertModal","createCustomModal","searchDelayTime","afterSearch","ee","handleSearchChange","that","myStyle","overflow","width","color","styleEmpStatus","myClassGray","Statuses","trial","termination","_handleInput","statusView","length","searchText","count","hideColumnVariable","CommandButtons","type","delay","renderPopupForm","renderEditForm","Name","closeModal","bind","cell","popupViewForm","goToProfile","goToDocs","clearNewFilter","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {PostMainPMIS} from \"../../api/auth\";\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport MySearchField from './search-field';\nimport Paper from 'material-ui/Paper';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport {Button, Modal} from 'react-bootstrap';\n\nconst style = {\n    margin: 12,\n};\n\nfunction numericSortFunc(a, b, order) {\n    if (order === 'desc') {\n        return Number(b.Id) - Number(a.Id);\n    } else {\n        return Number(a.Id) - Number(b.Id);\n    }\n}\n\n\n\nexport default class DatabaseComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            Employees: [],\n            currentEmployee:null,\n            openclose:false,\n        }\n\n        this.fetchEmployees = this.fetchEmployees.bind(this);\n    }\n\n   async componentDidMount(){\n        this.fetchEmployees()\n    }\n\n    actionViewEmployee=(row)=> {\n        let tmp = this.state;\n        tmp.currentEmployee = row;\n        this.setState(tmp);\n        this.openModal()\n    }\n    openModal=()=> {\n        var tmp = this.state;\n        tmp.openclose = true;\n        this.setState(tmp);\n    }\n\n    CommandButtons(cell, row) {\n\n        return (\n            <div>\n                <button type=\"button\" className={\"btn btn-default\"} onClick={() => {\n                    this.popupViewForm(row)\n                }}>View\n                </button>\n                &nbsp;\n                &nbsp;\n                <button type=\"button\" className={\"btn btn-default\"} onClick={() => {\n                    this.goToProfile(row)\n                }}>Profile\n                </button>\n                &nbsp;\n                <button type=\"button\" className={\"btn btn-default\"} onClick={() => {\n                    this.goToDocs(row)\n                }}>Docs\n                </button>\n            </div>\n        );\n        //alert(\"Choose to Terminate employee: \"+row.EmployeeCode);\n    }\n\n\n    fetchEmployees=async ()=>{\n        let _this = this;\n        let company = this.props.state.company;\n        let endpoint = \"/employee/list/\" + company;\n        let hub = {};\n        hub.company = company;\n\n        await PostMainPMIS(hub, endpoint, function (data) {\n            let emp = [];\n\n            for (let i in data) {\n                let row = data;\n                row.Id = parseInt(row.Id);\n                emp.push(row);\n            }\n\n            _this.setState({Employees: emp});\n\n            console.log(\":> fetchEmployees > \", emp);\n        })\n\n\n    }\n\n    renderData=()=>{\n\n        let ls = [];\n        for (var i in this.state.Employees) {\n            let row = this.state.Employees[i];\n            if (row.Status === this.state.empStatus) {\n                ls.push(row)\n            }\n        }\n\n        let data = ls;\n\n        const selectRowProp = {\n            mode: 'radio',\n            clickToSelect: false  // enable click to select\n        };\n\n        let _this = this;\n\n        const options = {\n            defaultSortName: 'Id',\n            defaultSortOrder: 'asc',\n            paginationSize: 20,\n            actionViewEmployee: this.actionViewEmployee,\n            addEmployee: this.addEmployeeSave,\n            /*onRowClick: function (row, columnIndex, rowIndex, e) {\n                console.log(`You click row id: ${row.EmployeeCode}, column index: ${columnIndex}, row index: ${rowIndex}`);\n                this.actionViewEmployee(row);\n                console.log(e);\n            },*/\n            onRowDoubleClick: function (row, e) {\n                this.actionViewEmployee(row);\n                console.log(e);\n            },\n            clearSearch: true,\n            searchField: (props) => (<MySearchField {...props}/>),\n            onAddRow: this.addEmployeeSave,\n            insertModal: this.createCustomModal,\n            searchDelayTime: 1500,\n            afterSearch: (e, ee) => {\n                this.handleSearchChange(e, ee)\n            },\n            that: _this,\n        };\n\n        let myStyle = {\n            overflow: 'visible',\n            width: '100%'\n        };\n\n        myStyle.color = \"red\";\n\n        let styleEmpStatus = {};\n        let myClassGray = \"\";\n        if (this.state.empStatus !== \"trial\") {\n            styleEmpStatus.color = \"#505050\";\n            myClassGray = \"myClassGray\";\n        }\n\n        let Statuses={trial:\"Active Employee\",termination:\"Termination Employee\"};\n\n        return (\n            <div className=\"\">\n\n\n                <MuiThemeProvider>\n                    <div className=\"row\">\n\n                        <div className=\"col col-lg-9\">\n                            <Paper style={style} zDepth={1}>\n                                <div className=\"centerContent \">\n                                    <form className=\"\">\n                                        <div className=\"form-group\">\n                                            <label>Database Query</label>\n                                            <select\n                                                className=\"select\"\n                                                name=\"empStatus\"\n                                                onChange={this._handleInput}\n                                                defaultValue={this.state.statusView}\n                                                style={{width:\"50%\"}}\n                                            >\n                                                <option value=\"trial\">Active Employee</option>\n                                                <option value=\"termination\">Termination Employee</option>\n\n                                            </select>\n                                            <span className=\"pull-right totDatabaseQuery\"> <b>{data.length}</b></span>\n                                        </div>\n                                    </form>\n                                    <hr/>\n\n                                    <p><span\n                                        className=\"pull-right\">Key search: <b>{this.state.searchText}</b> &nbsp;&nbsp;\n                                        Count: <b>{this.state.count}</b></span></p>\n\n                                    <BootstrapTable\n                                        id=\"tbEmployee\"\n                                        style={myStyle}\n                                        data={data}\n                                        striped={false}\n                                        hover={true}\n                                        pagination\n                                        options={options}\n                                        insertRow deleteRow exportCSV\n                                        search\n                                        hidden={this.state.hideColumnVariable}\n                                        className={myClassGray}\n\n                                    >\n                                        <TableHeaderColumn dataField=\"button\" width='380px'\n                                                           dataFormat={this.CommandButtons}>#</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Id\" isKey={true} dataSort width='300px'\n                                                           style={styleEmpStatus}\n                                                           sortFunc={numericSortFunc} hidden={true}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>ID</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"EmployeeCode\" width='70px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Code</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Name\" width='300px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Name</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Surname\" width='300px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Surname</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Designation\" width='300px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Designation</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"DailyRate\" width='200px' style={styleEmpStatus}\n                                                           filter={{type: 'TextFilter', delay: 1000}}\n                                                           hidden={false}>Daily\n                                            Rate</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"EmployeeIDNo\" width='150px' style={styleEmpStatus}\n                                                           filter={{type: 'TextFilter', delay: 1000}}>Employee\n                                            ID No</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Site\" width='200px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Site</TableHeaderColumn>\n                                        <TableHeaderColumn hidden={false} dataField=\"Address\" width='200px'\n                                                           style={styleEmpStatus} filter={{\n                                            type: 'TextFilter',\n                                            delay: 1000\n                                        }}>Address</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Gender\" width='10px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Gender</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"Bank\" width='200px' style={styleEmpStatus}\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }} hidden={false}>Bank</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"AccountNumber\" width='200px'\n                                                           style={styleEmpStatus}\n                                                           filter={{type: 'TextFilter', delay: 1000}}\n                                                           hidden={false}>Account\n                                            Number</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"BranchCode\" width='200px' style={styleEmpStatus}\n                                                           filter={{type: 'TextFilter', delay: 1000}}\n                                                           hidden={false}>Branch\n                                            Code</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"PaymentMethod\" width='200px'\n                                                           style={styleEmpStatus}\n                                                           filter={{type: 'TextFilter', delay: 1000}}\n                                                           hidden={false}>Payment\n                                            Method</TableHeaderColumn>\n                                        <TableHeaderColumn hidden={false} dataField=\"CommencementDate\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>CommencementDate</TableHeaderColumn>\n                                        <TableHeaderColumn dataField=\"CellphoneNumber\" width='100px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Cellphone Number</TableHeaderColumn>\n\n                                        <TableHeaderColumn hidden={false} dataField=\"Email\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Email</TableHeaderColumn>\n\n                                        <TableHeaderColumn hidden={false} dataField=\"Contract\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Contract</TableHeaderColumn>\n\n                                        <TableHeaderColumn hidden={false} dataField=\"TerminationDate\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Termination Date</TableHeaderColumn>\n                                        <TableHeaderColumn hidden={false} dataField=\"TerminationCode\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Termination Code</TableHeaderColumn>\n                                        <TableHeaderColumn hidden={false} dataField=\"ReasonForTermination\" width='200px'\n                                                           filter={{\n                                                               type: 'TextFilter',\n                                                               delay: 1000\n                                                           }}>Reason For Termination</TableHeaderColumn>\n\n                                    </BootstrapTable>\n\n                                    {this.renderPopupForm()}\n\n                                    {this.renderEditForm()}\n\n                                    <MyComponentModal\n                                        obectname={\"Employee Detail [\" + this.state.currentEmployee.Name + \"]\"}\n                                        openclose={this.state.openclose}\n                                        close={this.closeModal}\n                                        open={this.openModal}\n                                        data={this.state.currentEmployee}\n                                    />\n\n\n                                </div>\n\n\n                            </Paper>\n                        </div>\n\n                    </div>\n                </MuiThemeProvider>\n\n\n            </div>\n        )\n    }\n\n\n\n\n    render() {\n        return (\n            <div className={\"\"}>\n                <div>\n                    <hr/>\n                    <div className={\"row\"}>\n                        <div className={\"col col-lg-12\"}>\n                            <p className={\"\"}>\n                                <button\n                                    className={\"btn btn-dander\"}\n                                    onClick={() => this.props.clearNewFilter()}>\n                                    CLear [New Filter]\n                                </button>\n                            </p>\n                        </div>\n                    </div>\n\n                    <div className={\"row\"}>\n                        <div className={\"col col-lg-12\"}>\n                            {this.renderData}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}